import{R as x}from"./ReportGenerator-dRLaK6Hr.js";import{_ as w}from"./SaleForm-BxlCR_78.js";import{c as p,o as d,a as o,h as b,F as y,i as F,I as _,J as I,e as n,j as i,g as h,f as g,w as k,d as f,v as $,t as V,K as R,b as c}from"./app-BFXy5JVw.js";import{m as C}from"./makeAxiosFactory-B9aoRd9L.js";import{_ as v}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{u as U}from"./baseExports-B5V0AM2v.js";import{u as M}from"./users-DgYKCs5C.js";import"./AgentList--d11xEmx.js";import"./Pagination-BEOn-jB3.js";import"./SupplierList-DrYW336K.js";import"./useConfitmModalStore-3K6mUG_C.js";import"./ProductList-7HlIsf5E.js";import"./ProductCategoryList-DPqRhOjl.js";const A={class:"btn-group-vertical w-100",role:"group","aria-label":"Вертикальное меню действий"},q={class:"modal fade",id:"newSaleModal",tabindex:"-1"},J={class:"modal-dialog modal-fullscreen"},j={class:"modal-content"},T={class:"modal-body"},E={class:"modal fade",id:"reportModal",tabindex:"-1"},P={class:"modal-dialog"},N={class:"modal-content"},B={class:"modal-body"},L={methods:{goTo(r){this.$router.push({name:r})},handleReport(r){bootstrap.Modal.getInstance(document.getElementById("reportModal")).hide(),console.log("Отчёт сформирован:",r)},async fetchData(){bootstrap.Modal.getInstance(document.getElementById("newSaleModal")).hide()}}},G=Object.assign(L,{__name:"MenuAdmin",setup(r){return(t,s)=>(d(),p(y,null,[o("div",A,[o("button",{type:"button",onClick:s[0]||(s[0]=m=>t.goTo("SalePage")),class:"btn btn-outline-primary p-3"},"Список доставок"),s[3]||(s[3]=o("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#newSaleModal",class:"btn btn-outline-primary p-3"},"Внести доставку",-1)),s[4]||(s[4]=o("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#reportModal",class:"btn btn-outline-primary p-3"},"Сформировать отчет",-1)),o("button",{type:"button",onClick:s[1]||(s[1]=m=>t.goTo("ProductPage")),class:"btn btn-outline-primary p-3"},"Работа с товаром "),o("button",{type:"button",onClick:s[2]||(s[2]=m=>t.goTo("SupplierPage")),class:"btn btn-outline-primary p-3"},"Список поставщиков")]),o("div",q,[o("div",J,[o("div",j,[s[5]||(s[5]=o("div",{class:"modal-header"},[o("h5",{class:"modal-title"},"Создание задания"),o("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1)),o("div",T,[b(w,{onSaved:t.fetchData},null,8,["onSaved"])])])])]),o("div",E,[o("div",P,[o("div",N,[s[6]||(s[6]=o("div",{class:"modal-header"},[o("h5",{class:"modal-title"},"Генератор отчетов"),o("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1)),o("div",B,[b(x,{onGenerateReport:t.handleReport},null,8,["onGenerateReport"])])])])])],64))}}),O="/bot-api/forms",S=F("job",{state:()=>({loading:!1,error:null,successMessage:null}),actions:{async submitAdminForm(r){return this.submitForm("admin-job",r,"Заявка администратора отправлена","Ошибка отправки заявки администратора")},async submitAgentForm(r){return this.submitForm("agent-job",r,"Заявка младшего администратора отправлена","Ошибка отправки заявки")},async submitSupplierForm(r){return this.submitForm("supplier-job",r,"Заявка поставщика отправлена","Ошибка отправки заявки поставщика")},async submitClientForm(r){return this.submitForm("client-job",r,"Заявка клиента отправлена","Ошибка отправки заявки клиента")},async submitForm(r,t,s,m){var a,u;this.loading=!0,this.error=null;const e=_();try{const{data:l}=await C(`${O}/${r}`,"POST",t);return this.successMessage=l.message??s,e.show(this.successMessage,"success"),l}catch(l){throw this.error=((u=(a=l.response)==null?void 0:a.data)==null?void 0:u.message)??m,e.show(this.error,"error"),l}finally{this.loading=!1}}}}),D={name:"AdminJobForm",data(){return{jobStore:S(),form:{fio:"",email:"",phone:"",age:null,salary:null,experience:"",reason:"",consent:!1}}},methods:{submitForm(){if(!this.form.consent){alert("Необходимо дать согласие на обработку данных.");return}this.jobStore.submitAdminForm(this.form),this.$emit("submit-application",this.form);const r={fio:"",email:"",phone:"",age:null,salary:null,experience:"",reason:"",consent:!1};this.form=r}}},W={class:"form-floating mb-2"},K={class:"form-floating mb-2"},z={class:"form-floating mb-2"},H={class:"form-floating mb-2"},Q={class:"form-floating mb-2"},X={class:"form-floating mb-2"},Y={class:"form-floating mb-2"},Z={class:"form-check mb-2"},oo=["disabled"];function to(r,t,s,m,e,a){const u=I("mask");return d(),p("form",{onSubmit:t[8]||(t[8]=k((...l)=>a.submitForm&&a.submitForm(...l),["prevent"])),class:""},[o("div",W,[n(o("input",{type:"text",class:"form-control",id:"fioInput","onUpdate:modelValue":t[0]||(t[0]=l=>e.form.fio=l),placeholder:"ФИО",required:""},null,512),[[i,e.form.fio]]),t[9]||(t[9]=o("label",{for:"fioInput"},"ФИО",-1))]),o("div",K,[n(o("input",{type:"email",class:"form-control",id:"emailInput","onUpdate:modelValue":t[1]||(t[1]=l=>e.form.email=l),placeholder:"Email",required:""},null,512),[[i,e.form.email]]),t[10]||(t[10]=o("label",{for:"emailInput"},"Email",-1))]),o("div",z,[n(o("input",{type:"tel",class:"form-control",id:"phoneInput","onUpdate:modelValue":t[2]||(t[2]=l=>e.form.phone=l),placeholder:"Телефон",required:""},null,512),[[i,e.form.phone],[u,"+7(###) ###-##-##"]]),t[11]||(t[11]=o("label",{for:"phoneInput"},"Телефон",-1))]),o("div",H,[n(o("input",{type:"number",class:"form-control",id:"ageInput","onUpdate:modelValue":t[3]||(t[3]=l=>e.form.age=l),placeholder:"Возраст",min:"18",required:""},null,512),[[i,e.form.age]]),t[12]||(t[12]=o("label",{for:"ageInput"},"Возраст",-1))]),o("div",Q,[n(o("input",{type:"number",class:"form-control",id:"salaryInput","onUpdate:modelValue":t[4]||(t[4]=l=>e.form.salary=l),placeholder:"Зарплатные ожидания",min:"0",required:""},null,512),[[i,e.form.salary]]),t[13]||(t[13]=o("label",{for:"salaryInput"},"Зарплатные ожидания (₽\\мес)",-1))]),o("div",X,[n(o("textarea",{class:"form-control",id:"experienceInput","onUpdate:modelValue":t[5]||(t[5]=l=>e.form.experience=l),placeholder:"Опыт работы",style:{height:"100px"}},null,512),[[i,e.form.experience]]),t[14]||(t[14]=o("label",{for:"experienceInput"},"Опыт работы",-1))]),o("div",Y,[n(o("textarea",{class:"form-control",id:"reasonInput","onUpdate:modelValue":t[6]||(t[6]=l=>e.form.reason=l),placeholder:"Почему хотите стать администратором",style:{height:"100px"}},null,512),[[i,e.form.reason]]),t[15]||(t[15]=o("label",{for:"reasonInput"},"Почему хотите стать администратором",-1))]),o("div",Z,[n(o("input",{class:"form-check-input",type:"checkbox",id:"consentCheck","onUpdate:modelValue":t[7]||(t[7]=l=>e.form.consent=l),required:""},null,512),[[h,e.form.consent]]),t[16]||(t[16]=o("label",{class:"form-check-label",for:"consentCheck"},[g(" Я даю согласие на обработку персональных данных согласно "),o("a",{href:"https://www.consultant.ru/document/cons_doc_LAW_61801/",target:"_blank"}," Федеральному закону №152-ФЗ ")],-1))]),o("button",{type:"submit",disabled:!e.form.consent,class:"btn btn-primary w-100 p-3"},"Отправить заявку ",8,oo)],32)}const eo=v(D,[["render",to]]),lo={name:"AgentJobForm",data(){return{jobStore:S(),form:{fio:"",email:"",phone:"",age:null,salary:null,experience:"",skills:"",reason:"",consent:!1}}},methods:{submitForm(){if(!this.form.consent){alert("Необходимо дать согласие на обработку данных.");return}this.jobStore.submitAgentForm(this.form),this.$emit("submit-application",this.form)}}},so={class:"form-floating mb-2"},no={class:"form-floating mb-2"},ro={class:"form-floating mb-2"},io={class:"form-floating mb-2"},mo={class:"form-floating mb-2"},ao={class:"form-floating mb-2"},uo={class:"form-floating mb-2"},po={class:"form-floating mb-2"},bo={class:"form-check mb-2"},fo=["disabled"];function go(r,t,s,m,e,a){const u=I("mask");return d(),p("form",{onSubmit:t[9]||(t[9]=k((...l)=>a.submitForm&&a.submitForm(...l),["prevent"]))},[o("div",so,[n(o("input",{type:"text",class:"form-control",id:"fioInput","onUpdate:modelValue":t[0]||(t[0]=l=>e.form.fio=l),placeholder:"ФИО",required:""},null,512),[[i,e.form.fio]]),t[10]||(t[10]=o("label",{for:"fioInput"},"ФИО",-1))]),o("div",no,[n(o("input",{type:"email",class:"form-control",id:"emailInput","onUpdate:modelValue":t[1]||(t[1]=l=>e.form.email=l),placeholder:"Email",required:""},null,512),[[i,e.form.email]]),t[11]||(t[11]=o("label",{for:"emailInput"},"Email",-1))]),o("div",ro,[n(o("input",{type:"tel",class:"form-control",id:"phoneInput","onUpdate:modelValue":t[2]||(t[2]=l=>e.form.phone=l),placeholder:"Телефон",required:""},null,512),[[i,e.form.phone],[u,"+7(###) ###-##-##"]]),t[12]||(t[12]=o("label",{for:"phoneInput"},"Телефон",-1))]),o("div",io,[n(o("input",{type:"number",class:"form-control",id:"ageInput","onUpdate:modelValue":t[3]||(t[3]=l=>e.form.age=l),placeholder:"Возраст",min:"18",required:""},null,512),[[i,e.form.age]]),t[13]||(t[13]=o("label",{for:"ageInput"},"Возраст",-1))]),o("div",mo,[n(o("input",{type:"number",class:"form-control",id:"salaryInput","onUpdate:modelValue":t[4]||(t[4]=l=>e.form.salary=l),placeholder:"Зарплатные ожидания",min:"0",required:""},null,512),[[i,e.form.salary]]),t[14]||(t[14]=o("label",{for:"salaryInput"},"Зарплатные ожидания (₽)",-1))]),o("div",ao,[n(o("textarea",{class:"form-control",id:"experienceInput","onUpdate:modelValue":t[5]||(t[5]=l=>e.form.experience=l),placeholder:"Опыт работы в продажах",style:{height:"100px"}},null,512),[[i,e.form.experience]]),t[15]||(t[15]=o("label",{for:"experienceInput"},"Опыт работы в продажах",-1))]),o("div",uo,[n(o("textarea",{class:"form-control",id:"skillsInput","onUpdate:modelValue":t[6]||(t[6]=l=>e.form.skills=l),placeholder:"Навыки переговоров",style:{height:"100px"}},null,512),[[i,e.form.skills]]),t[16]||(t[16]=o("label",{for:"skillsInput"},"Навыки переговоров",-1))]),o("div",po,[n(o("textarea",{class:"form-control",id:"reasonInput","onUpdate:modelValue":t[7]||(t[7]=l=>e.form.reason=l),placeholder:"Почему хотите стать младшим администратором",style:{height:"100px"}},null,512),[[i,e.form.reason]]),t[17]||(t[17]=o("label",{for:"reasonInput"},"Почему хотите стать младшим администратором",-1))]),o("div",bo,[n(o("input",{class:"form-check-input",type:"checkbox",id:"consentCheck","onUpdate:modelValue":t[8]||(t[8]=l=>e.form.consent=l),required:""},null,512),[[h,e.form.consent]]),t[18]||(t[18]=o("label",{class:"form-check-label",for:"consentCheck"},[g(" Я даю согласие на обработку персональных данных согласно "),o("a",{href:"https://www.consultant.ru/document/cons_doc_LAW_61801/",target:"_blank"}," Федеральному закону №152-ФЗ ")],-1))]),o("button",{disabled:!e.form.consent,type:"submit",class:"btn btn-primary w-100 p-3"},"Отправить заявку",8,fo)],32)}const co=v(lo,[["render",go]]),yo={name:"ClientJobForm",data(){return{jobStore:S(),form:{company_name:"",reg_number:"",email:"",phone:"",categories:"",volume:null,terms:"",comments:"",consent:!1}}},methods:{submitForm(){if(!this.form.consent){alert("Необходимо дать согласие на обработку данных.");return}this.jobStore.submitClientForm(this.form),this.$emit("submit-application",this.form)}}},vo={class:"form-floating mb-2"},Io={class:"form-floating mb-2"},ho={class:"form-floating mb-2"},ko={class:"form-floating mb-2"},So={class:"form-floating mb-2"},Mo={class:"form-floating mb-2"},xo={class:"form-floating"},Vo={class:"form-floating mb-2"},Uo={class:"form-check mb-2"},wo=["disabled"];function Fo(r,t,s,m,e,a){const u=I("mask");return d(),p("form",{onSubmit:t[9]||(t[9]=k((...l)=>a.submitForm&&a.submitForm(...l),["prevent"]))},[o("div",vo,[n(o("input",{type:"text",class:"form-control",id:"companyNameInput","onUpdate:modelValue":t[0]||(t[0]=l=>e.form.company_name=l),placeholder:"Название компании",required:""},null,512),[[i,e.form.company_name]]),t[10]||(t[10]=o("label",{for:"companyNameInput"},"Название компании",-1))]),o("div",Io,[n(o("input",{type:"text",class:"form-control",id:"regNumberInput","onUpdate:modelValue":t[1]||(t[1]=l=>e.form.reg_number=l),placeholder:"ИНН / регистрационный номер",required:""},null,512),[[i,e.form.reg_number]]),t[11]||(t[11]=o("label",{for:"regNumberInput"},"ИНН / регистрационный номер",-1))]),o("div",ho,[n(o("input",{type:"email",class:"form-control",id:"emailInput","onUpdate:modelValue":t[2]||(t[2]=l=>e.form.email=l),placeholder:"Email",required:""},null,512),[[i,e.form.email]]),t[12]||(t[12]=o("label",{for:"emailInput"},"Email",-1))]),o("div",ko,[n(o("input",{type:"tel",class:"form-control",id:"phoneInput","onUpdate:modelValue":t[3]||(t[3]=l=>e.form.phone=l),placeholder:"Телефон",required:""},null,512),[[i,e.form.phone],[u,"+7(###) ###-##-##"]]),t[13]||(t[13]=o("label",{for:"phoneInput"},"Телефон",-1))]),o("div",So,[n(o("input",{type:"text",class:"form-control",id:"categoriesInput","onUpdate:modelValue":t[4]||(t[4]=l=>e.form.categories=l),placeholder:"Категории товаров"},null,512),[[i,e.form.categories]]),t[14]||(t[14]=o("label",{for:"categoriesInput"},"Категории интересующих товаров",-1))]),t[19]||(t[19]=o("p",{class:"mb-2 fst-italic"},"Планируемый объём закупки (шт./мес.)",-1)),o("div",Mo,[n(o("input",{type:"number",class:"form-control",id:"volumeInput","onUpdate:modelValue":t[5]||(t[5]=l=>e.form.volume=l),placeholder:"Объём закупки",min:"0"},null,512),[[i,e.form.volume]]),t[15]||(t[15]=o("label",{for:"volumeInput"},"Объем закупки",-1))]),o("div",xo,[n(o("textarea",{class:"form-control",id:"termsInput","onUpdate:modelValue":t[6]||(t[6]=l=>e.form.terms=l),placeholder:"Условия сотрудничества",style:{height:"100px"}},null,512),[[i,e.form.terms]]),t[16]||(t[16]=o("label",{for:"termsInput"},"Условия сотрудничества ",-1))]),t[20]||(t[20]=o("p",{class:"small fst-italic mb-2"},"(сроки, оплата, доставка)",-1)),o("div",Vo,[n(o("textarea",{class:"form-control",id:"commentsInput","onUpdate:modelValue":t[7]||(t[7]=l=>e.form.comments=l),placeholder:"Дополнительные комментарии",style:{height:"100px"}},null,512),[[i,e.form.comments]]),t[17]||(t[17]=o("label",{for:"commentsInput"},"Дополнительные комментарии",-1))]),o("div",Uo,[n(o("input",{class:"form-check-input",type:"checkbox",id:"consentCheck","onUpdate:modelValue":t[8]||(t[8]=l=>e.form.consent=l),required:""},null,512),[[h,e.form.consent]]),t[18]||(t[18]=o("label",{class:"form-check-label",for:"consentCheck"},[g(" Я даю согласие на обработку персональных данных согласно "),o("a",{href:"https://www.consultant.ru/document/cons_doc_LAW_61801/",target:"_blank"}," Федеральному закону №152-ФЗ ")],-1))]),o("button",{disabled:!e.form.consent,type:"submit",class:"btn btn-primary w-100 p-3"},"Стать клиентом",8,wo)],32)}const _o=v(yo,[["render",Fo]]),$o={name:"SupplierJobForm",data(){return{jobStore:S(),form:{company_name:"",reg_number:"",email:"",phone:"",categories:"",products:"",volume:null,terms:"",consent:!1}}},methods:{submitForm(){if(!this.form.consent){alert("Необходимо дать согласие на обработку данных.");return}this.jobStore.submitSupplierForm(this.form),this.$emit("submit-application",this.form)}}},Ro={class:"form-floating mb-2"},Co={class:"form-floating mb-2"},Ao={class:"form-floating mb-2"},qo={class:"form-floating mb-2"},Jo={class:"form-floating"},jo={class:"form-floating mb-2"},To={class:"form-floating mb-2"},Eo={class:"form-floating mb-2"},Po={class:"form-check mb-2"},No=["disabled"];function Bo(r,t,s,m,e,a){const u=I("mask");return d(),p("form",{onSubmit:t[9]||(t[9]=k((...l)=>a.submitForm&&a.submitForm(...l),["prevent"]))},[o("div",Ro,[n(o("input",{type:"text",class:"form-control",id:"companyNameInput","onUpdate:modelValue":t[0]||(t[0]=l=>e.form.company_name=l),placeholder:"Название компании",required:""},null,512),[[i,e.form.company_name]]),t[10]||(t[10]=o("label",{for:"companyNameInput"},"Название компании",-1))]),o("div",Co,[n(o("input",{type:"text",class:"form-control",id:"regNumberInput","onUpdate:modelValue":t[1]||(t[1]=l=>e.form.reg_number=l),placeholder:"ИНН / регистрационный номер",required:""},null,512),[[i,e.form.reg_number]]),t[11]||(t[11]=o("label",{for:"regNumberInput"},"ИНН / регистрационный номер",-1))]),o("div",Ao,[n(o("input",{type:"email",class:"form-control",id:"emailInput","onUpdate:modelValue":t[2]||(t[2]=l=>e.form.email=l),placeholder:"Email",required:""},null,512),[[i,e.form.email]]),t[12]||(t[12]=o("label",{for:"emailInput"},"Email",-1))]),o("div",qo,[n(o("input",{type:"tel",class:"form-control",id:"phoneInput","onUpdate:modelValue":t[3]||(t[3]=l=>e.form.phone=l),placeholder:"Телефон",required:""},null,512),[[i,e.form.phone],[u,"+7(###) ###-##-##"]]),t[13]||(t[13]=o("label",{for:"phoneInput"},"Телефон",-1))]),o("div",Jo,[n(o("input",{type:"text",class:"form-control",id:"categoriesInput","onUpdate:modelValue":t[4]||(t[4]=l=>e.form.categories=l),placeholder:"Категории товаров"},null,512),[[i,e.form.categories]]),t[14]||(t[14]=o("label",{for:"categoriesInput"},"Категории товаров ",-1))]),t[19]||(t[19]=o("p",{class:"small fst-italic mb-2"},"(например: продукты, техника)",-1)),o("div",jo,[n(o("textarea",{class:"form-control",id:"productsInput","onUpdate:modelValue":t[5]||(t[5]=l=>e.form.products=l),placeholder:"Описание товаров",style:{height:"100px"}},null,512),[[i,e.form.products]]),t[15]||(t[15]=o("label",{for:"productsInput"},"Описание товаров",-1))]),o("div",To,[n(o("input",{type:"number",class:"form-control",id:"volumeInput","onUpdate:modelValue":t[6]||(t[6]=l=>e.form.volume=l),placeholder:"Объём поставок",min:"0"},null,512),[[i,e.form.volume]]),t[16]||(t[16]=o("label",{for:"volumeInput"},"Средний объём поставок (шт./мес.)",-1))]),o("div",Eo,[n(o("textarea",{class:"form-control",id:"termsInput","onUpdate:modelValue":t[7]||(t[7]=l=>e.form.terms=l),placeholder:"Условия сотрудничества",style:{height:"100px"}},null,512),[[i,e.form.terms]]),t[17]||(t[17]=o("label",{for:"termsInput"},"Условия сотрудничества (сроки, оплата)",-1))]),o("div",Po,[n(o("input",{class:"form-check-input",type:"checkbox",id:"consentCheck","onUpdate:modelValue":t[8]||(t[8]=l=>e.form.consent=l),required:""},null,512),[[h,e.form.consent]]),t[18]||(t[18]=o("label",{class:"form-check-label",for:"consentCheck"},[g(" Я даю согласие на обработку персональных данных согласно "),o("a",{href:"https://www.consultant.ru/document/cons_doc_LAW_61801/",target:"_blank"}," Федеральному закону №152-ФЗ ")],-1))]),o("button",{disabled:!e.form.consent,type:"submit",class:"btn btn-primary w-100 p-3"},"Стать поставщиком",8,No)],32)}const Lo=v($o,[["render",Bo]]),Go={class:"modal fade",id:"adminJobModal",tabindex:"-1"},Oo={class:"modal-dialog modal-fullscreen"},Do={class:"modal-content"},Wo={class:"modal-body"},Ko={class:"modal fade",id:"agentJobModal",tabindex:"-1"},zo={class:"modal-dialog modal-fullscreen"},Ho={class:"modal-content"},Qo={class:"modal-body"},Xo={class:"modal fade",id:"supplierJobModal",tabindex:"-1"},Yo={class:"modal-dialog modal-fullscreen"},Zo={class:"modal-content"},ot={class:"modal-body"},tt={class:"modal fade",id:"clientJobModal",tabindex:"-1"},et={class:"modal-dialog modal-fullscreen"},lt={class:"modal-content"},st={class:"modal-body"},nt={methods:{hideModal(r){const t=document.getElementById(r);bootstrap.Modal.getInstance(t).hide()}}},rt=Object.assign(nt,{__name:"MenuUser",setup(r){return(t,s)=>(d(),p(y,null,[s[8]||(s[8]=o("div",{class:"btn-group-vertical w-100",role:"group","aria-label":"Вертикальное меню"},[o("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#adminJobModal",class:"btn btn-outline-primary p-3"},"Стать администратором"),o("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#agentJobModal",class:"btn btn-outline-primary p-3"},"Стать младшим администратором"),o("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#supplierJobModal",class:"btn btn-outline-primary p-3"},"Стать поставщиком"),o("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#clientJobModal",class:"btn btn-outline-primary p-3"},"Стать клиентом (сотрудничество)")],-1)),o("div",Go,[o("div",Oo,[o("div",Do,[s[4]||(s[4]=o("div",{class:"modal-header"},[o("h5",{class:"modal-title"},"Заявка на администратора"),o("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1)),o("div",Wo,[b(eo,{onSubmitApplication:s[0]||(s[0]=m=>t.hideModal("adminJobModal"))})])])])]),o("div",Ko,[o("div",zo,[o("div",Ho,[s[5]||(s[5]=o("div",{class:"modal-header"},[o("h5",{class:"modal-title"},"Заявка на младшего администратора"),o("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1)),o("div",Qo,[b(co,{onSubmitApplication:s[1]||(s[1]=m=>t.hideModal("agentJobModal"))})])])])]),o("div",Xo,[o("div",Yo,[o("div",Zo,[s[6]||(s[6]=o("div",{class:"modal-header"},[o("h5",{class:"modal-title"},"Заявка поставщика"),o("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1)),o("div",ot,[b(Lo,{onSubmitApplication:s[2]||(s[2]=m=>t.hideModal("supplierJobModal"))})])])])]),o("div",tt,[o("div",et,[o("div",lt,[s[7]||(s[7]=o("div",{class:"modal-header"},[o("h5",{class:"modal-title"},"Заявка клиента"),o("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1)),o("div",st,[b(_o,{onSubmitApplication:s[3]||(s[3]=m=>t.hideModal("clientJobModal"))})])])])])],64))}}),it={class:"btn-group-vertical w-100",role:"group","aria-label":"Вертикальное меню"},mt={class:"modal fade",id:"reportModal",tabindex:"-1"},at={class:"modal-dialog"},dt={class:"modal-content"},ut={class:"modal-body"},pt={data(){return{reportStore:U()}},methods:{goTo(r){this.$router.push({name:r})},handleReport(r){bootstrap.Modal.getInstance(document.getElementById("reportModal")).hide(),this.reportStore.exportFull(r)}}},bt=Object.assign(pt,{__name:"MenuAgent",setup(r){return(t,s)=>(d(),p(y,null,[o("div",it,[o("button",{type:"button",onClick:s[0]||(s[0]=m=>t.goTo("SalePage")),class:"btn btn-outline-primary p-3"},"Мои доставки"),s[1]||(s[1]=o("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#reportModal",class:"btn btn-outline-primary p-3"},"Сформировать отчет",-1))]),o("div",mt,[o("div",at,[o("div",dt,[s[2]||(s[2]=o("div",{class:"modal-header"},[o("h5",{class:"modal-title"},"Генератор отчетов"),o("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1)),o("div",ut,[b(x,{onGenerateReport:t.handleReport},null,8,["onGenerateReport"])])])])])],64))}}),ft={class:"btn-group-vertical w-100",role:"group","aria-label":"Вертикальное меню отчетов"},gt={class:"modal fade",id:"reportModal",tabindex:"-1"},ct={class:"modal-dialog"},yt={class:"modal-content"},vt={class:"modal-body"},It={data(){return{reportStore:U()}},methods:{goTo(r){this.$router.push({name:r})},handleReport(r){bootstrap.Modal.getInstance(document.getElementById("reportModal")).hide(),this.reportStore.exportFull(r)}}},ht=Object.assign(It,{__name:"MenuSuperAdmin",setup(r){return(t,s)=>(d(),p(y,null,[o("div",ft,[s[8]||(s[8]=o("button",{type:"button",class:"btn btn-outline-primary p-3","data-bs-toggle":"modal","data-bs-target":"#reportModal"}," Сформировать отчет ",-1)),o("button",{type:"button",onClick:s[0]||(s[0]=m=>t.goTo("SalePage")),class:"btn btn-outline-primary p-3"},"Список продаж "),o("button",{type:"button",onClick:s[1]||(s[1]=m=>t.goTo("UserPage")),class:"btn btn-outline-primary p-3"},"Список пользователей "),o("button",{type:"button",onClick:s[2]||(s[2]=m=>t.goTo("SupplierPage")),class:"btn btn-outline-primary p-3"},"Список поставщиков "),o("button",{type:"button",onClick:s[3]||(s[3]=m=>t.goTo("AgentPage")),class:"btn btn-outline-primary p-3"},"Список младших админов "),o("button",{type:"button",onClick:s[4]||(s[4]=m=>t.goTo("AdminPage")),class:"btn btn-outline-primary p-3"},"Список админов "),o("button",{type:"button",onClick:s[5]||(s[5]=m=>t.goTo("ProductPage")),class:"btn btn-outline-primary p-3"},"Работа с товаром ")]),s[10]||(s[10]=o("hr",{class:"my-3"},null,-1)),o("button",{type:"button",onClick:s[6]||(s[6]=m=>t.goTo("ExcelExportPage")),class:"btn btn-outline-success p-3 w-100 mb-2"},"Выгрузка данных в эксель "),o("button",{type:"button",onClick:s[7]||(s[7]=m=>t.goTo("BirthdayPage")),class:"btn btn-outline-warning p-3 w-100"},"Дни рождения "),o("div",gt,[o("div",ct,[o("div",yt,[s[9]||(s[9]=o("div",{class:"modal-header"},[o("h5",{class:"modal-title"},"Генератор отчетов"),o("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1)),o("div",vt,[b(x,{onGenerateReport:t.handleReport},null,8,["onGenerateReport"])])])])])],64))}}),kt={name:"RoleSwitcher",data(){return{userStore:M(),selectedRole:M().self.role||0,roles:{0:"Пользователь",1:"Младший администратор",2:"Поставщик",3:"Администратор",4:"Суперадмин"}}},computed:{baseRoleLabel(){return this.roles[this.userStore.self.base_role??0]},roleLabel(){return this.roles[this.userStore.self.role??0]}},methods:{changeRole(){this.userStore.setRole(this.selectedRole),this.$emit("role-changed",this.selectedRole)}}},St={class:"form-floating my-2 w-100"},Mt={class:"mt-2"},xt={key:0,class:"mt-2"};function Vt(r,t,s,m,e,a){return d(),p(y,null,[o("div",St,[n(o("select",{id:"roleSelect",class:"form-select","onUpdate:modelValue":t[0]||(t[0]=u=>e.selectedRole=u),onChange:t[1]||(t[1]=(...u)=>a.changeRole&&a.changeRole(...u))},[...t[2]||(t[2]=[o("option",{value:0},"Пользователь",-1),o("option",{value:1},"Младший админ",-1),o("option",{value:3},"Администратор",-1),o("option",{value:4},"Суперадмин",-1)])],544),[[$,e.selectedRole]]),t[3]||(t[3]=o("label",{for:"roleSelect",class:"form-label"},"Сменить роль",-1))]),o("p",Mt,[t[4]||(t[4]=g(" Текущая роль: ",-1)),o("strong",null,V(a.roleLabel),1)]),a.roleLabel!==a.baseRoleLabel?(d(),p("p",xt,[t[5]||(t[5]=g(" Базовая роль роль: ",-1)),o("strong",null,V(a.baseRoleLabel),1)])):f("",!0)],64)}const Ut=v(kt,[["render",Vt]]),wt={key:0,class:"container-fluid p-3"},Ft={data(){return{userStore:M()}},computed:{tg(){return window.Telegram.WebApp},user(){return this.userStore.self||null}},methods:{}},Lt=Object.assign(Ft,{__name:"MenuPage",setup(r){const{t}=R();return(s,m)=>s.user?(d(),p("div",wt,[s.user.role===0?(d(),c(rt,{key:0})):f("",!0),s.user.role===3?(d(),c(G,{key:1})):f("",!0),s.user.role===1?(d(),c(bt,{key:2})):f("",!0),s.user.role===4?(d(),c(ht,{key:3})):f("",!0),s.user.base_role===4?(d(),c(Ut,{key:4})):f("",!0)])):f("",!0)}});export{Lt as default};
