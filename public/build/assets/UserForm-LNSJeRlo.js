import{u as m}from"./users-DgYKCs5C.js";import{c as n,o as a,a as o,e as l,j as i,v as f,t as p,w as d}from"./app-BFXy5JVw.js";import{_ as u}from"./_plugin-vue_export-helper-DlAUqK2U.js";const b={name:"UserForm",props:{initialData:{type:Object,default:null}},data(){return{userStore:m(),form:{name:"",email:"",telegram_chat_id:"",role:0,percent:0,password:""},isEdit:!1}},created(){this.initialData&&(this.form={...this.initialData},this.isEdit=!0)},methods:{async submitForm(){await this.userStore.update(this.form.id,this.form),this.$emit("saved")}}},v={class:"form-floating mb-2"},g={class:"form-floating mb-2"},y={class:"form-floating mb-2"},U={class:"form-floating mb-2"},c={class:"form-floating mb-2"},D={type:"submit",class:"btn btn-primary w-100 p-3"};function _(w,e,x,E,t,s){return a(),n("form",{onSubmit:e[5]||(e[5]=d((...r)=>s.submitForm&&s.submitForm(...r),["prevent"]))},[o("div",v,[l(o("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>t.form.name=r),type:"text",class:"form-control",id:"name",placeholder:"Имя",required:""},null,512),[[i,t.form.name]]),e[6]||(e[6]=o("label",{for:"name"},"Имя",-1))]),o("div",g,[l(o("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>t.form.email=r),type:"email",class:"form-control",id:"email",placeholder:"Email",required:""},null,512),[[i,t.form.email]]),e[7]||(e[7]=o("label",{for:"email"},"Email",-1))]),o("div",y,[l(o("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>t.form.telegram_chat_id=r),type:"text",class:"form-control",id:"telegram_chat_id",placeholder:"Telegram Chat ID"},null,512),[[i,t.form.telegram_chat_id]]),e[8]||(e[8]=o("label",{for:"telegram_chat_id"},"Telegram Chat ID",-1))]),o("div",U,[l(o("select",{"onUpdate:modelValue":e[3]||(e[3]=r=>t.form.role=r),class:"form-select",id:"role",required:""},[...e[9]||(e[9]=[o("option",{value:0},"Пользователь",-1),o("option",{value:1},"Младший администратор",-1),o("option",{value:2},"Поставщик",-1),o("option",{value:3},"Администратор",-1),o("option",{value:4},"Суперадмин",-1)])],512),[[f,t.form.role]]),e[10]||(e[10]=o("label",{for:"role"},"Роль",-1))]),o("div",c,[l(o("input",{"onUpdate:modelValue":e[4]||(e[4]=r=>t.form.percent=r),type:"number",step:"0.01",class:"form-control",id:"percent",placeholder:"Процент"},null,512),[[i,t.form.percent]]),e[11]||(e[11]=o("label",{for:"percent"},"Процент",-1))]),o("button",D,p(t.isEdit?"Сохранить изменения":"Создать пользователя"),1)],32)}const F=u(b,[["render",_]]);export{F as U};
